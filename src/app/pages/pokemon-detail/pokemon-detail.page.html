<ion-content *ngIf="pokemon">
  <div 
    class="detail-header"
    [ngStyle]="{
      'background-color': mainTypeColor(mainType, 'dark'),
      'background-image': 'url(' + getTypeIconUrl(mainType) + ')',
      'background-repeat': 'no-repeat',
      'background-position': 'center',
      'background-size': '50%',
    }"
  >
    <ion-buttons
      fill="clear"
      class="back-button"
      (click)="goBack()"
    >
      <ion-icon name="chevron-back-outline"></ion-icon>
      <span>Back</span>
    </ion-buttons>

    <img src="../../../assets/svg/Property 1=Default.svg" alt="heart" class="heart-icon"/>

    <img
      class="detail-image"
      [src]="pokemon.image"
      [alt]="pokemon.name"
    />
  </div>

  <div class="pokemon-id">
    <span>{{ pokemon?.name | titlecase }}</span>
    <p >Nº{{ pokemon.id | number:'3.0' }}</p>
  </div>

  <div class="pokemon-types"> 
    <ion-badge
      *ngFor="let type of pokemon.types"
      class="type-badge"
      [ngStyle]="{ 'background-color': mainTypeColor(type, 'dark')}"
    >
      <img
        [src]="getTypeIconUrl(type)"
        alt="{{ type }}"
        class="type-icon"
      />
      {{ type | titlecase }}
    </ion-badge>
  </div>

  <ion-card class="info-card">
    <ion-card-content>
      <p >{{ pokemon.description }}</p>
      <p><strong>Categoria:</strong> {{ pokemon.category }}</p>
      <p><strong>Altura:</strong> {{ pokemon.height / 10 }} m</p>
      <p><strong>Peso:</strong> {{ pokemon.weight / 10 }} kg</p>
      <p><strong>Habilidades:</strong>
        <span *ngFor="let ability of pokemon.abilities; let last = last">
          {{ ability.ability.name | titlecase }}<span *ngIf="!last">, </span>
        </span>
      </p>
      <p><strong>Gênero:</strong> {{ getGenderText(pokemon.genderRate) }}</p>
    </ion-card-content>

    <ion-card class="evolution-card" *ngFor="let evo of evolutions">
      <ion-card-content class="evo-content">
        <img [src]="evo.image" class="evo-image" [alt]="evo.name" />

        <div class="evo-info">
          <div class="evo-id">#{{ evo.id | number: '3.0' }}</div>
          <div class="evo-name">{{ evo.name | titlecase }}</div>

          <div class="evo-types">
            <ion-badge
              *ngFor="let type of evo.types"
              class="type-badge"
              [ngStyle]="{ 'background-color': mainTypeColor(type, 'dark') }"
            >
              <img
                [src]="getTypeIconUrl(type)"
                class="type-icon"
                [alt]="type"
              />
              {{ type | titlecase }}
            </ion-badge>
          </div>
        </div>
      </ion-card-content>
    </ion-card>
  </ion-card>
</ion-content>